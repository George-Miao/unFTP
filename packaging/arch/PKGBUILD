# Maintainer: Hannes de Jager <hannes@inspired-archetypes.com>
pkgname=unftp
pkgver=0.14.2
pkgrel=1
makedepends=('rust' 'cargo')
depends=('pam')
arch=('x86_64' 'armv6h' 'armv7h')
pkgdesc="When you need to FTP, but do not want to. An async, cloud orientated FTP(S) server built on libunftp"
url="https://unftp.rs"
license=('Apache-2.0')
source=('unftp.service')

# The initial version of this file was generated by cargo-pkgbuild

build() {
    cd ${pkgname}-${pkgver}
    wget https://github.com/bolcom/unFTP/releases/download/v0.14.2/unftp_x86_64-unknown-linux-gnu
}

package() {
    cd ${pkgname}-${pkgver}
    # cd $srcdir
    # cargo install --root="$pkgdir" --git=https://github.com/bolcom/unFTP
    # cd "$pkgdir"
    install -Dm755 unftp_x86_64-unknown-linux-gnu "$pkgdir/usr/bin/unftp"
    install -Dm644 "${srcdir}/unftp.service" "$pkgdir/etc/systemd/system/unftp.service"
}
